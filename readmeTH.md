## IFS RD VAT Service (ระบบตรวจสอบข้อมูลผู้เสียภาษีจากกรมสรรพากร)

### สิ่งนี้คืออะไร
เครื่องมือนี้ช่วย “เช็คความถูกต้อง” ของเลขประจำตัวผู้เสียภาษี 13 หลัก และ “ดึงข้อมูลจริง” จากฐานกรมสรรพากร เช่น ชื่อ บริษัท/สาขา และรายละเอียดที่อยู่ จากนั้นนำมาเติมให้อัตโนมัติในหน้าข้อมูล Contact ใน Business Central เพื่อลดงานกรอกมือและลดความผิดพลาด

### ใช้ไปเพื่ออะไร
* ตรวจสอบว่าหมายเลขผู้เสียภาษีถูกต้องและมีอยู่จริง
* รู้ว่าสาขานี้เป็น “สำนักงานใหญ่” หรือ “สาขาเลขที่ …”
* ดึงที่อยู่ที่กรมสรรพากรเก็บไว้ (เช่น เลขที่ อาคาร ชั้น ห้อง หมู่ ซอย ถนน ตำบล/แขวง อำเภอ/เขต จังหวัด รหัสไปรษณีย์)
* เติมข้อมูลลง Contact ให้เป็นรูปแบบมาตรฐานเดียวกัน
* เก็บหลักฐานว่าใครเป็นคนกดตรวจสอบ และเมื่อไหร่

### ภาพรวมการทำงาน (มองแบบง่าย)
1. ผู้ใช้กรอกเลขผู้เสียภาษี + รหัสสาขา (หรือเลือก “สำนักงานใหญ่”)
2. ระบบส่งคำขอไปยังกรมสรรพากร
3. ได้คำตอบกลับ (สำเร็จ / มีข้อความแจ้งเตือน)
4. ระบบแยกข้อมูลที่จำเป็นแล้วเติมให้ใน Contact
5. บันทึกวันที่และผู้ใช้ที่ตรวจสอบไว้สำหรับอ้างอิงภายหลัง

### ข้อมูลสำคัญที่ได้กลับมา
กลุ่ม “ตัวตน”:
* เลขประจำตัวผู้เสียภาษี (13 หลัก)
* ชื่อ / ชื่อสาขา / คำนำหน้า (ถ้ามี)

กลุ่ม “ที่อยู่” (บางรายการอาจว่าง หากกรมสรรพากรไม่มีเก็บไว้):
* อาคาร / ชั้น / ห้อง
* เลขที่ / หมู่ / ซอย / ถนน
* ตำบล หรือ แขวง (ระบบจัดแยกอัตโนมัติ)
* อำเภอ หรือ เขต
* จังหวัด
* รหัสไปรษณีย์

กลุ่ม “อื่น ๆ”:
* วันที่เริ่มประกอบธุรกิจ (ถ้ามี)
* ข้อความแจ้งเตือน (เช่น ไม่พบข้อมูล / กรอกเลขผิด)

### เงื่อนไขพื้นฐาน
* เลขประจำตัวผู้เสียภาษี: ต้องเป็นตัวเลข 13 หลักเท่านั้น
* รหัสสาขา: 5 หลัก (ตัวเลข) หรือพิมพ์คำว่า “สำนักงานใหญ่” เพื่อระบุสาขาหลัก

### ตัวอย่าง (แนวคิดการเรียกใช้งานในโค้ด)
ในหน้าจอ Contact ผู้ใช้เพียงกดปุ่ม “Get Data from RD VAT Service” ระบบจัดการเบื้องหลังให้ทั้งหมด

### สิ่งที่ช่วยให้ทีมทำงานง่ายขึ้น
| ปัญหาที่พบบ่อย | ระบบนี้ช่วยอย่างไร |
|-----------------|---------------------|
| กรอกชื่อ/ที่อยู่ไม่ตรงทางราชการ | ดึงข้อมูลตรงจากกรมสรรพากร |
| กรอกสาขาผิด (สำนักงานใหญ่/สาขา) | แยกให้ชัดเจนด้วยเลขสาขา 0 หรือเลขอื่น |
| ที่อยู่สะกดไม่เป็นมาตรฐาน | ระบบประกอบที่อยู่แบบรูปแบบเดียวกัน |
| ต้องตรวจย้อนหลังว่าใครแก้ | เก็บวันที่และผู้ใช้ที่ตรวจไว้ |

### บนหน้าจอ (Contact Card)
มีการเพิ่มกลุ่ม “RD VAT Service” แสดง:
* วันที่ตรวจสอบล่าสุด
* ผู้ใช้ที่ตรวจสอบ
และมีปุ่มสำหรับ “ดึงข้อมูล” เมื่อกดแล้วข้อมูลจะถูกเติมให้อัตโนมัติ ถ้าพบข้อผิดพลาดระบบจะแจ้งทันที

### ประโยชน์ต่อธุรกิจ
* ลดเวลาตรวจสอบลูกค้าใหม่ / คู่ค้าใหม่
* ลดการสะกดผิดที่ทำให้เอกสารทางภาษีต้องแก้ไข
* เพิ่มความน่าเชื่อถือของข้อมูลภายในระบบ
* ลดงานซ้ำ (พนักงานไม่ต้องคัดลอกจากเว็บไซต์เอง)


